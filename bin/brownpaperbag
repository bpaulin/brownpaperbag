#!/usr/bin/env python

import logging
import argparse
import asyncio

from brownpaperbag import BpbGate

parser = argparse.ArgumentParser()

parser.add_argument("-v", "--verbose",
                    action="store_true")
parser.add_argument("host")
parser.add_argument("port")
parser.add_argument("password")
args = parser.parse_args()
level = logging.INFO
if args.verbose:
    level = logging.DEBUG
logging.basicConfig(format="%(levelname)s: %(message)s", level=level)

gate = BpbGate(args.host, args.port, args.password)
gate.logger = logging
print(asyncio.run(gate.is_light_on('0111')))
